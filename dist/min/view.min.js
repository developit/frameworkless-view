!function(a){"function"==typeof window.define&&window.define.amd?window.define(["util","events","zepto","handlebars"],a):a(window.util,window.EventEmitter,$,handlebars)}(function(a,b,c,d){function e(a,b){return this instanceof e?(this.rawView=a,this.doTemplate=d.compile(this.rawView),this.readyView=c(a),this.base=c(document.createElement("div")),this.base.html("").append(this.readyView),this.name=b,void(this.name&&this.base.attr("data-view",b))):new e(a,b)}var f=b.EventEmitter||b;return a=a||c,a.inherits(e,f),a.extend(e.prototype,{template:function(a){return this.doTemplate?(this.templateData=a,this.readyView=c(a&&this.doTemplate(a)||this.rawView),this.base.html("").append(this.readyView),this):!1},hookEvents:function(a){var b,c,d,e;if(this.readyView){this.events=a;for(e in a)a.hasOwnProperty(e)&&(b=e.split(" "),c=b[0],d=b.slice(1).join(" "),this.base.on(c,d,a[e]));return this}return!1},insertInto:function(a){return this.base&&c(a).append(this.base),this},insertAfter:function(a){return this.base&&this.base.insertAfter(c(a)),this}}),e.View=e.view=e,e});